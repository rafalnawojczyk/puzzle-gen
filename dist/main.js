!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["sr-visualizer"]=t():e["sr-visualizer"]=t()}(window,(function(){return function(e){function t(t){for(var r,a,i=t[0],u=t[1],s=t[2],v=0,d=[];v<i.length;v++)a=i[v],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(t);d.length;)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window.webpackJsonpsr_visualizer=window.webpackJsonpsr_visualizer||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=u;return c.push([5,1]),n()}([,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Geometry=void 0;var c=n(0),a=function(e){function t(t,n){var r=e.call(this)||this;return r.vertices=t,r.faces=n,r.calculateCentroid(),r}return o(t,e),t.prototype.calculateCentroid=function(){var e=0,t=0,n=0;this.vertices.forEach((function(r){e+=r[0],t+=r[1],n+=r[2]})),e/=this.vertices.length,t/=this.vertices.length,n/=this.vertices.length,this.centroid=c.vec3.clone([e,t,n])},t}(n(2).Object3D);t.Geometry=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Object3D=void 0;var r=n(0),o=n(6),c=function(){function e(){this.uid=o(),this.matrix=r.mat4.create(),this.centroid=[0,0,0]}return e.prototype.translate=function(e){r.mat4.translate(this.matrix,this.matrix,e)},e.prototype.rotate=function(e,t){r.mat4.rotate(this.matrix,this.matrix,e,t)},e.prototype.setColor=function(e){this.color=e},e}();t.Object3D=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Face4=void 0;var r=function(e,t,n,r,o,c){this.a=e,this.b=t,this.c=n,this.d=r,this.verticies=[e,t,n,r],this.color=c,console.warn("need to calculate or set normal"),this.normal=o};t.Face4=r},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;var c=function(e){function t(t){var n=e.call(this)||this;return n.setObjects(t),n}return o(t,e),t.prototype.setObjects=function(e){this.objects=e},t.prototype.addObject=function(e){this.objects.push(e)},t.prototype.setCentroid=function(e){this.centroid=e},t}(n(2).Object3D);t.Group=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.svgStep=t.dothething=t.getInputs=void 0;var r,o,c,a=n(1),i=n(0),u=n(9),s=n(10),l=n(3),v=n(11),d=n(13),f=new u.Camera,m=500,p=500,h=-2,y=-2,g=4,b=4,E=1,_=[i.vec3.clone([-.5,.5,.5]),i.vec3.clone([.5,.5,.5]),i.vec3.clone([.5,-.5,.5]),i.vec3.clone([-.5,-.5,.5])],F=[i.vec3.clone([-.5,.5,-.5]),i.vec3.clone([.5,.5,-.5]),i.vec3.clone([.5,-.5,-.5]),i.vec3.clone([-.5,-.5,-.5])],w=[i.vec3.clone([-.5,.5,.5]),i.vec3.clone([-.5,.5,-.5]),i.vec3.clone([.5,.5,-.5]),i.vec3.clone([.5,.5,.5])],j=[i.vec3.clone([-.5,-.5,.5]),i.vec3.clone([-.5,-.5,-.5]),i.vec3.clone([.5,-.5,-.5]),i.vec3.clone([.5,-.5,.5])],O=[i.vec3.fromValues(-.5,.5,.5),i.vec3.fromValues(-.5,-.5,.5),i.vec3.fromValues(-.5,-.5,-.5),i.vec3.fromValues(-.5,.5,-.5)],I=[i.vec3.fromValues(.5,.5,.5),i.vec3.fromValues(.5,-.5,.5),i.vec3.fromValues(.5,-.5,-.5),i.vec3.fromValues(.5,.5,-.5)],x=function(e){return[new l.Face4(0,1,2,3,null,{value:e})]};function B(){new a.Geometry(_,x("#FF0000")),new a.Geometry(w,x("#00FF00")),new a.Geometry(O,x("#0000FF")),new a.Geometry(I,x("#FF00FF")),new a.Geometry(F,x("#FFA500")),new a.Geometry(j,x("#FFFF00")),c=new s.Scene,o=new d.CustomSVGRenderer(m,p,h,y,g,b);var e=(new Date).getTime();r=new v.RubiksCube(3);var t=(new Date).getTime();console.log(t-e),c.add(r.group),document.getElementById("idsomething").appendChild(o.domElement),o.render(c,f),f&&f.matrix&&f.matrix.forEach((function(e,t){document.getElementById("c"+(t+1)).value=e})),document.getElementById("width").value=m,document.getElementById("height").value=p,document.getElementById("minx").value=h,document.getElementById("miny").value=y,document.getElementById("svgw").value=g,document.getElementById("svgh").value=b,document.getElementById("pw").value=E}t.getInputs=function(){var e=parseFloat(document.getElementById("c1").value),t=parseFloat(document.getElementById("c2").value),n=parseFloat(document.getElementById("c3").value),r=parseFloat(document.getElementById("c4").value),o=parseFloat(document.getElementById("c5").value),c=parseFloat(document.getElementById("c6").value),a=parseFloat(document.getElementById("c7").value),u=parseFloat(document.getElementById("c8").value),s=parseFloat(document.getElementById("c9").value),l=parseFloat(document.getElementById("c10").value),v=parseFloat(document.getElementById("c11").value),d=parseFloat(document.getElementById("c12").value),_=parseFloat(document.getElementById("c13").value),F=parseFloat(document.getElementById("c14").value),w=parseFloat(document.getElementById("c15").value),j=parseFloat(document.getElementById("c16").value);f.matrix=i.mat4.fromValues(e,t,n,r,o,c,a,u,s,l,v,d,_,F,w,j),m=parseFloat(document.getElementById("width").value),p=parseFloat(document.getElementById("height").value),h=parseFloat(document.getElementById("minx").value),y=parseFloat(document.getElementById("miny").value),g=parseFloat(document.getElementById("svgw").value),b=parseFloat(document.getElementById("svgh").value),E=parseFloat(document.getElementById("pw").value)},t.dothething=B,document.addEventListener("DOMContentLoaded",(function(e){B()})),t.svgStep=function(){var e=(new Date).getTime();r.group.rotate(Math.PI/32,[1,1,0]),o.render(c,f);var t=(new Date).getTime();console.log(t-e)}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Camera=void 0;var r=n(0),o=function(){this.matrix=r.mat4.create(),r.mat4.perspective(this.matrix,Math.PI/2,1,.1,1e3),r.mat4.translate(this.matrix,this.matrix,[0,0,-5]),r.mat4.scale(this.matrix,this.matrix,[4,4,1])};t.Camera=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene=void 0;var r=function(){function e(){this.objects=[]}return e.prototype.add=function(e){this.objects.push(e)},e}();t.Scene=r},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var c=arguments[t],a=0,i=c.length;a<i;a++,o++)r[o]=c[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.RubiksCube=void 0;var o=n(12),c=n(4),a=function(){function e(e){var t=(.5*e+.02*(e+1))/2,n=this.makeStickers(e,{value:"#FF0000A0"},.5,.02),o=this.makeStickers(e,{value:"#FFA500A0"},.5,.02),a=this.makeStickers(e,{value:"#0000FFA0"},.5,.02,[0,1,0]),i=this.makeStickers(e,{value:"#00FF00A0"},.5,.02,[0,1,0]),u=this.makeStickers(e,{value:"#FFFF00A0"},.5,.02,[1,0,0]),s=this.makeStickers(e,{value:"#FFFFFFA0"},.5,.02,[1,0,0]);n.forEach((function(e){return e.translate([0,0,t])})),o.forEach((function(e){return e.translate([0,0,-t])})),a.forEach((function(e){return e.translate([0,0,-t])})),i.forEach((function(e){return e.translate([0,0,t])})),u.forEach((function(e){return e.translate([0,0,-t])})),s.forEach((function(e){return e.translate([0,0,t])})),this.stickers=r(n,o,a,i,u,s),this.group=new c.Group(this.stickers),this.group.rotate(.593411946,[1,0,0]),this.group.rotate(.785398,[0,1,0])}return e.prototype.makeStickers=function(e,t,n,r,c){for(var a=[],i=(n*e+r*(e+1))/2,u=0;u<e;u++)for(var s=0;s<e;s++){var l=new o.Plane(n,n,t);c&&l.rotate(Math.PI/2,c),l.translate([r+u*(n+r)-i,0-r-s*(n+r)+i,0]),a.push(l)}return a},e}();t.RubiksCube=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Plane=void 0;var c=n(1),a=n(0),i=n(3),u=function(e){function t(t,n,r){var o=[a.vec3.clone([0,0,0]),a.vec3.clone([t,0,0]),a.vec3.clone([t,-n,0]),a.vec3.clone([0,-n,0])],c=[new i.Face4(0,1,2,3,null,r)];return e.call(this,o,c)||this}return o(t,e),t}(c.Geometry);t.Plane=u},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var c=arguments[t],a=0,i=c.length;a<i;a++,o++)r[o]=c[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomSVGRenderer=void 0;var o=n(0),c=n(1),a=n(4),i=function(){function e(e,t,n,r,o,c){this.domElement=document.createElement("div"),this.domElement.className="svg-renderer",this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svgElement.setAttributeNS(null,"width",e.toString()),this.svgElement.setAttributeNS(null,"height",t.toString()),this.svgElement.setAttributeNS(null,"viewBox",n+" "+r+" "+o+" "+c),this.svgElement.setAttributeNS(null,"id","sr-visualizer"),this.domElement.appendChild(this.svgElement)}return e.prototype.render=function(e,t){for(var n=this;this.svgElement.hasChildNodes();)this.svgElement.removeChild(this.svgElement.lastChild);this.sortObjects(e.objects,t,[]),e.objects.forEach((function(e){n.renderObject3D(e,t,[])}))},e.prototype.renderObject3D=function(e,t,n){var o=this;if(e instanceof c.Geometry)this.renderGeometry(e,t,n);else if(e instanceof a.Group){var i=e;this.sortObjects(i.objects,t,r([i.matrix],n)),i.objects.forEach((function(e){o.renderObject3D(e,t,r([i.matrix],n))}))}},e.prototype.renderGeometry=function(e,t,n){var c=this;e.faces.forEach((function(a){var i=[];a.verticies.map((function(t){return e.vertices[t]})).forEach((function(a){var u=r([e.matrix],n,[t.matrix]),s=c.applyTransformations(a,u),l=o.vec3.multiply(s,s,[1,-1,1]);i.push(l)}));var u=c.createPolygon(i,a.color||e.color);c.svgElement.appendChild(u)}))},e.prototype.createPolygon=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","polygon"),r=e.reduce((function(e,t){return(e?e+" ":"")+t[0]+", "+t[1]}),"");return n.setAttributeNS(null,"points",r),n.setAttributeNS(null,"fill",t.value),n},e.prototype.sortObjects=function(e,t,n){var o=this;e.sort((function(e,t){var c=r([e.matrix],n),a=r([t.matrix],n),i=o.applyTransformations(e.centroid,c),u=o.applyTransformations(t.centroid,a);return i[2]-u[2]}))},e.prototype.applyTransformations=function(e,t){return t.reduce((function(e,t){return o.vec3.transformMat4(e,e,t)}),o.vec3.clone(e))},e}();t.CustomSVGRenderer=i}])}));
//# sourceMappingURL=main.js.map